<div class="flex h-screen">
  <app-sidenavbar class="fixed top-0 left-0 h-full"></app-sidenavbar>
  <div class="flex-grow ml-64 p-8 h-screen overflow-hidden">
    <div class="mainContent flex flex-col h-full justify-center items-center">
      <!-- Header section -->
      <div class="header-section">
        <h1 class="header-title">Robot Details</h1>
        <div class="subheader-container">
          <div class="subheader-text">Create and edit task reports</div>
          <img src="../../assets/icons/i-icon.svg" alt="Icon" class="subheader-icon">
        </div>
      </div>

      <div class="flex items-center justify-between mt-4">
        <div class="flex items-center">
          <select class="p-2 border rounded">
            <option>All</option>
            <!-- Add more options as needed -->
          </select>
          <div class="relative ml-4">
            <input
              type="text"
              placeholder="Search For Something..."
              class="p-2 border rounded w-64"
            />
            <button class="absolute right-2 top-1/2 transform -translate-y-1/2">
              <svg
                class="w-6 h-6 text-white bg-red-500 rounded-full p-1"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 2a8 8 0 105.293 14.293l4.029 4.03a1 1 0 001.415-1.414l-4.03-4.03A8 8 0 0010 2zM8 9a2 2 0 114 0 2 2 0 01-4 0z"
                  clip-rule="evenodd"
                />
              </svg>
            </button>
          </div>
        </div>
        <div>
          <button (click)="togglePopup()" class="bg-red-500 text-white px-4 py-2 rounded mr-2">+ Add Robots</button>
          <button class="bg-gray-200 text-black px-4 py-2 rounded mr-2">Edit</button>
          <button class="bg-red-500 text-white px-4 py-2 rounded">Delete</button>
        </div>
      </div>

      <div class="card-container mt-8">
        <div *ngFor="let robot of robots; let i = index; trackBy: trackByIndex"
             [ngClass]="{ 'highlighted-card': i === centerIndex, 'blurred-card': i !== centerIndex }"
             class="card">
          <h2 class="text-xl font-bold">{{ robot.name }}</h2>
          <img [src]="robot.imageUrl" alt="{{ robot.name }}" class="card-image">
          <p>{{ robot.capacity }} <br /> Rated capacity</p>
          <p>{{ robot.speed }} <br /> Maximum speed</p>
          <p>{{ robot.accuracy }} <br /> Stacking accuracy</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="showPopup" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center">
  <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
    <h2 class="text-2xl font-bold mb-4">Add Robot</h2>
    <form (ngSubmit)="addRobot()">
      <div class="mb-4">
        <label for="name" class="block text-gray-700">Name</label>
        <input type="text" id="name" [(ngModel)]="newRobot.name" name="name" class="w-full p-2 border rounded">
      </div>
      <div class="mb-4">
        <label for="imageUrl" class="block text-gray-700">Image URL</label>
        <input type="text" id="imageUrl" [(ngModel)]="newRobot.imageUrl" name="imageUrl" class="w-full p-2 border rounded">
      </div>
      <div class="mb-4">
        <label for="capacity" class="block text-gray-700">Rated capacity</label>
        <input type="text" id="capacity" [(ngModel)]="newRobot.capacity" name="capacity" class="w-full p-2 border rounded">
      </div>
      <div class="mb-4">
        <label for="speed" class="block text-gray-700">Maximum speed</label>
        <input type="text" id="speed" [(ngModel)]="newRobot.speed" name="speed" class="w-full p-2 border rounded">
      </div>
      <div class="mb-4">
        <label for="accuracy" class="block text-gray-700">Stacking accuracy</label>
        <input type="text" id="accuracy" [(ngModel)]="newRobot.accuracy" name="accuracy" class="w-full p-2 border rounded">
      </div>
      <div class="flex justify-end">
        <button type="button" (click)="togglePopup()" class="bg-gray-300 text-black px-4 py-2 rounded mr-2">Cancel</button>
        <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded">Add</button>
      </div>
    </form>
  </div>
</div>
