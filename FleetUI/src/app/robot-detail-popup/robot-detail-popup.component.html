<div class="popup-container">
  <!-- Robot Header Section -->
   <div class="left-side">

    <div class="header-container">
      <div class="header-left">
        <h1 class="robot-name">AMR_002</h1>
        <p class="robot-id">ID: 33c6</p>
      </div>
      <div class="header-right">
        <div class="wifi-style flex z-50">
          <div class="wifi" [ngClass]="currentSignalClass"></div> 
        </div>
        <p class="wifi-percentage">76%</p>
      </div>
    </div>

  
    <!-- Task and Map Section -->
  <div class="task-map-container">
    <div class="task-container">
      <div class="details-content">
        <span class="details-title">Details</span>
        <div class="details-info">
          <div class="current-task">
            <span class="current-task-label">Current task:</span>
            <span class="current-task-value">Transporting materials </span>
          </div>
          <div class="current-map">
            <span class="current-map-label">Current map:</span>
            <span class="current-map-value">{{selectedMap.mapName}}</span>
          </div>
        </div>
      </div>
    </div>



    <!-- pick and drop -->
    <div class="map-container">
      <div class="pick-drop-info">
        <div class="fork-lift-icon">
          <svg
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <rect width="30" height="30" fill="url(#pattern0_1872_1888)" />
            <defs>
              <pattern
                id="pattern0_1872_1888"
                patternContentUnits="objectBoundingBox"
                width="1"
                height="1"
              >
                <use xlink:href="#image0_1872_1888" transform="scale(0.02)" />
              </pattern>
              <image
                id="image0_1872_1888"
                width="50"
                height="50"
                xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADR0lEQVR4nO2aTUhVQRiGj6H9FwlBGBGU1qYwqE1IW0GKfly4S7AW6i4IA5PAFrUo27jICCLChQsNd5aWLfoRIkgN2mRSEZQS2B94sT+eGJwLn9M55557nDn3GveFu/m+mXfmPWfmzHfecz2vgOwBbAWOAKu8pQpgC/CNedzzliqAGhai3FuKADYAP4SQlqQGXgHcBX6TGT+B90Cv3gNFAZxDos9IUkIOEh9PgR0+nM2izR+gLAkhdSwOX4B9BmeZFpBGcy6E1IX8GoBLwJTR5yOw0eAdEfmhxIV40fqsBG4aYq4ZbVqMvVXqTERcIbpfEXBHdFVPqk0iX24IrffyUYgCsNPYC+c8AWBc5Pq9fBWiAAyI7h+AEpFrF7lZYI2Xx0IOGUuoVuQqg3L5KETtlQlBMWzkX4lct9XJ2xSiOc4YV36XyHUYZ87yOGMkJaRU74E0OkWuyhBZbVWATSGa55ag+Q6s0/Fl+sBMo8uqAAdC9hpXvknkukR8WomzJsC2EM31TFC9FPFqQ2SVlck7FKJqMYkDOl4CzIh4hzUBjoSod5tPgq5H5LpF/I2VybsSovkuG8XiZh2vNe5WpRUBYuDjxgC9Pr+rwP6IfNv96i9gtfGIbrcpQj1pvhINanINMeqvSRHvF/Fxm0Iekh1SquKNwHvU6Ldbx+udOCzAHNnjSaZzQBlzxjI6JSoAtW/sOizEx+kI3M9F+ytOHRbiIxXwUJA/+V5/26nDQrJodeawkCx+iTNlxKrDQvI47MRhIXnU6XG3WXVYciVEAXhhzWHJsZDz1hyWHAjpceKw4H8+3AfGLEx6VHMpToljYvxJKw6LMcCUrH2Ak4sQcULwVOjX2zQGAxyWz9LcW4yQVp98nDsz6sNzVuRnQhyWwZBK4QawJ0hIys8sEPkHMYQM+/A0ifysiJsOSya8CxIiH4GPZFWrvkT5rO8oUH0qjMk+FvkxYw6dWXC/DRLSZjRUAzbq+LRRXvSF3PY+3SaNac3RqMv+wCUMrNd7JVMRGrq01gKvI1yJC74EC7kuRuCZcObIM7+EwsRcB4oj8BTrtmEi/vlwahX6zrTpp1RKb0D13l0T8w8DA5ojpc+TVqffRgoooID/D38BZcMzcWbJlJYAAAAASUVORK5CYII="
              />
            </defs>
          </svg>
        </div>
        <span class="pick-drop-label">Total Pick / Drop</span>
      </div>
      <!-- <p>Total pick / drop</p> -->
      <h3>37 / 21</h3>
    </div>
  </div>
   <!-- Metrics Section -->
   <div class="metrics-container">
    <div class="metric-item">
      <p>Network Strength</p>
      <h3>76 dBm</h3>
    </div>
    <div class="metric-item">
      <p>Robot Temperature</p>
      <h3>37Â°C</h3>
    </div>
    <div class="metric-item">
      <p>Robot Utilization</p>
      <h3>58%</h3>
    </div>
    <div class="metric-item">
      <p>Memory</p>
      <h3>32%</h3>
    </div>
    <div class="metric-item">
      <p>CPU Utilization</p>
      <h3>35%</h3>
    </div>
    <div class="metric-item">
      <p>Error</p>
      <h3>38</h3>
    </div>
  </div>

   </div>

<div class="right-side">
  <div class="top">
    <!-- Robot Image and Control Section Grid -->
    <div class="robot-control-grid">
      <!-- Control Buttons Section -->
      <div class="control-section">
        <button class="connect-btn">Connect</button>
        <p class="status-inactive">Inactive</p>
        <button class="stop-btn">STOP</button>
      </div>
  
      <!-- Robot Image Section -->
      <div class="robot-image-container">
        <img [src]="data.imageUrl" alt="{{data.name}}" class="robot-image">
      </div>
    </div>
  </div>
  
      

      <div class="bottom">
        <div class="battery-container">
            <!-- Battery Section -->
            <div class="battery-section">
                <div class="battery">
                    <div class="battery-level"
                        [ngStyle]="{'height': data.batteryPercentage + '%'}"
                        [ngClass]="getBatteryColor(data.batteryPercentage)">
                    </div>
                    <!-- Charging icon will only show if charging is true -->
                    <div *ngIf="data.isCharging" class="charging-icon">
                        <img class="charging-image" src="assets/icons/charging1.png" alt="Charging" />
                    </div>
                </div>   
            </div>

            <div class="battery-details">
              <div class="average-discharge">
                <span class="discharge-distance">{{ data.averagedischarge }} m</span>
                <span class="discharge-label">Average Discharge</span>
              </div>
              <div class="battery-status-container">
                <span class="battery-percentage">{{ data.batteryPercentage }} %</span>
                <span class="battery-label">Battery</span>
              </div>
              <div class="average-charging-time">
                <span class="charging-time">{{ data.averageChargingTime }} m</span>
                <span class="charging-time-label">Average Charging Time</span>
              </div>
            </div>
        </div>

        

        <div class="speed-container">
            <div class="speed-stats">
                <p>Current Speed: 2 m/s</p>
                <p>Average Speed: 0 m/s</p>
                <p>Max Speed: 5 m/s</p>
            </div>
        </div>
    </div>
  </div>
</div>
