<div class="container1">
  <div class="content-fluid1">
    <div class="general">
      <!-- <form> -->
        <div class="container">
          <form #paramsForm="ngForm">
            <div class="form-control">

              <!-- Fleet Server Mode -->
              <div class="field">
                <label for="fleetServerMode">Fleet Server Mode: </label>
                <input
                  class="input"
                  type="number"
                  min="0"
                  placeholder="Enter"
                  style="width: 10rem;"
                  [(ngModel)]="formData.fleetServerMode"
                  name="fleetServerMode"
                  pInputText
                  required
                  #fleetServerMode="ngModel"
                />
                <div *ngIf="fleetServerMode.invalid && fleetServerMode.touched" class="error">
                  Fleet Server Mode is required.
                </div>
              </div>

              <!-- Server IP -->
              <div class="field">
                <label for="serverIP" style="margin-right: 5rem;">Server IP: </label>
                <input
                  type="text"
                  placeholder="Enter IP"
                  minlength="7"
                  maxlength="15"
                  size="15"
                  [(ngModel)]="formData.serverIP"
                  name="serverIP"
                  pInputText
                  required
                  pattern="^(\d{1,3}\.){3}\d{1,3}$"
                  #serverIP="ngModel"
                />
                <div *ngIf="serverIP.invalid && serverIP.touched" class="error">
                  Enter a valid Server IP (e.g., 192.168.0.1).
                </div>
              </div>

              <!-- Server Port -->
              <div class="field">
                <label for="serverPort" style="margin-right: 4rem">Server Port: </label>
                <input
                  class="input"
                  placeholder="Enter Port"
                  type="number"
                  min="1000"
                  max="9999"
                  oninput="if(this.value.length > 4) this.value = this.value.slice(0, 4);"
                  style="width: 10rem;"
                  [(ngModel)]="formData.serverPort"
                  name="serverPort"
                  pInputText
                  required
                  #serverPort="ngModel"
                />
                <div *ngIf="serverPort.invalid && serverPort.touched" class="error">
                  Server Port is required (1000-9999).
                </div>
              </div>
            </div>

            <div class="form2">
              <!-- Database IP -->
              <div class="field">
                <label for="databaseIp" style="margin-right: 2rem;">Database IP: </label>
                <input
                  type="text"
                  placeholder="Enter IP"
                  minlength="7"
                  maxlength="15"
                  size="15"
                  style="width: 10rem;"
                  [(ngModel)]="formData.databaseIp"
                  name="databaseIp"
                  pInputText
                  pattern="^(\d{1,3}\.){3}\d{1,3}$"
                  #databaseIp="ngModel"
                />
                <div *ngIf="databaseIp.invalid && databaseIp.touched" class="error">
                  Enter a valid Database IP (e.g., 192.168.0.1).
                </div>
              </div>

              <!-- Database Type -->
              <div class="field">
                <label for="selectedDb">Database Type: </label><br>
                <p-dropdown
                  appendTo="body"
                  [options]="dtype"
                  [(ngModel)]="selectedDb"
                  name="selectedDb"
                  optionLabel="name"
                  placeholder="Select"
                  required
                  #selectedDb="ngModel"
                ></p-dropdown>
                <div *ngIf="selectedDb.invalid && selectedDb.touched" class="error">
                  Database Type is required.
                </div>
              </div>

              <!-- Server IP Type -->
              <div class="field">
                <label for="selectedIp" style="margin-right: .9rem;">Server IP Type: </label><br>
                <p-dropdown
                  appendTo="body"
                  [options]="iptype"
                  [(ngModel)]="selectedIp"
                  name="selectedIp"
                  optionLabel="name"
                  placeholder="Select"
                  required
                  #selectedIp="ngModel"
                ></p-dropdown>
                <div *ngIf="selectedIp.invalid && selectedIp.touched" class="error">
                  Server IP Type is required.
                </div>
              </div>
            </div>

            <div class="form3">
              <!-- Database Name -->
              <div class="field">
                <label for="databaseName" style="margin-right: 3rem;">Database Name: </label>
                <input
                  type="text"
                  placeholder="Enter DB name"
                  style="width: 10rem;"
                  [(ngModel)]="formData.databaseName"
                  name="databaseName"
                  pInputText
                  required
                  #databaseName="ngModel"
                />
                <div *ngIf="databaseName.invalid && databaseName.touched" class="error">
                  Database Name is required.
                </div>
              </div>

              <!-- Robot Manager Type -->
              <div class="field">
                <label for="selectedRoboManagerType">Robot Manager Type: </label><br>
                <p-dropdown
                  appendTo="body"
                  [options]="robotManagerType"
                  [(ngModel)]="selectedRoboManagerType"
                  name="selectedRoboManagerType"
                  optionLabel="name"
                  placeholder="Select"
                  required
                  #selectedRoboManagerType="ngModel"
                ></p-dropdown>
                <div *ngIf="selectedRoboManagerType.invalid && selectedRoboManagerType.touched" class="error">
                  Robot Manager Type is required.
                </div>
              </div>

              <!-- Task Manager Type -->
              <div class="field">
                <label for="selectedTaskManagerType" style="margin-right: 1.2rem;">Task Manager Type: </label><br>
                <p-dropdown
                  appendTo="body"
                  [options]="taskManagerType"
                  [(ngModel)]="selectedTaskManagerType"
                  name="selectedTaskManagerType"
                  optionLabel="name"
                  placeholder="Select"
                  required
                  #selectedTaskManagerType="ngModel"
                ></p-dropdown>
                <div *ngIf="selectedTaskManagerType.invalid && selectedTaskManagerType.touched" class="error">
                  Task Manager Type is required.
                </div>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="field mt-1">
              <p-button
                label="Submit"
                type="submit"
                class="block mt-1 pt-2"
                icon="pi pi-check-circle"
                styleClass="p-button-danger p-button1"
                [disabled]="paramsForm.invalid"
                (onClick)="saveParams()"
              ></p-button>
            </div>
          </form>
        </div>

      <!-- </form> -->
    </div>
  </div>
</div>
